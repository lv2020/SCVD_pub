{"filename": "smart-contracts/contracts/mixins/MixinKeys.sol", "patch": "@@ -234,11 +234,8 @@ contract MixinKeys is\n     require(\n       keyManagerOf[_tokenId] == msg.sender ||\n       isLockManager(msg.sender) ||\n-      keyManagerOf[_tokenId] == address(0), 'UNAUTHORIZED_KEY_MANAGER_UPDATE'\n+      keyManagerOf[_tokenId] == address(0) && isKeyOwner(_tokenId, msg.sender), 'UNAUTHORIZED_KEY_MANAGER_UPDATE'\n     );\n-    if(keyManagerOf[_tokenId] == address(0)) {\n-      require(isKeyOwner(_tokenId, msg.sender), 'KEY_MANAGER: NOT_KEY_OWNER');\n-    }\n     keyManagerOf[_tokenId] = _keyManager;\n     emit KeyManagerChanged(_tokenId, _keyManager);\n   }", "project_link": "https://github.com/unlock-protocol/unlock/commit/680c2f3633569645337085a3ccc3c52895930341", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "0c7e5540f7543df5a59006387732f5be60d1a509"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "680c2f3633569645337085a3ccc3c52895930341"}}