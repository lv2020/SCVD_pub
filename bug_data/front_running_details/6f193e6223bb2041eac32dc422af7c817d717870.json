{"filename": "contracts/dao/schemes/OneTimePayments.sol", "patch": "@@ -90,11 +90,11 @@ contract OneTimePayments is FeelessScheme {\n      * allows only creator of payment to withdraw\n      * @param code The string to encode into hash of payment \n      */\n-    function cancel(string memory code) public {\n-        bytes32 hash = keccak256(abi.encodePacked(code));\n-        uint256 value = payments[hash].paymentAmount;\n+    function cancel(bytes32 hash) public {\n \n         require(payments[hash].paymentSender == msg.sender, \"Can only be called by creator\");\n+        \n+        uint256 value = payments[hash].paymentAmount;\n \n         _withdraw(hash, value);\n         emit PaymentCancel(msg.sender, hash, value);", "project_link": "https://github.com/GoodDollar/GoodContracts/commit/fd50e5473579d6aea44404764f491645e4233460", "solc_version": "0.4.17", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "6f193e6223bb2041eac32dc422af7c817d717870"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "fd50e5473579d6aea44404764f491645e4233460"}}