{"filename": "contracts/dao/schemes/OneTimePayments.sol", "patch": "@@ -90,11 +90,11 @@ contract OneTimePayments is FeelessScheme {\n      * allows only creator of payment to withdraw\n      * @param code The string to encode into hash of payment \n      */\n-    function cancel(string memory code) public {\n-        bytes32 hash = keccak256(abi.encodePacked(code));\n-        uint256 value = payments[hash].paymentAmount;\n+    function cancel(bytes32 hash) public {\n \n         require(payments[hash].paymentSender == msg.sender, \"Can only be called by creator\");\n+        \n+        uint256 value = payments[hash].paymentAmount;\n \n         _withdraw(hash, value);\n         emit PaymentCancel(msg.sender, hash, value);", "project_link": "https://github.com/GoodDollar/GoodContracts/commit/1e86979beb76da520a4bb983985745aaf121348f", "solc_version": "0.4.18", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "4ff762b7bfbbbefbef53980883e6058d32584413"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "1e86979beb76da520a4bb983985745aaf121348f"}}