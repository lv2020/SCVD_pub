{"filename": "contracts/dao/schemes/OneTimePayments.sol", "patch": "@@ -90,11 +90,11 @@ contract OneTimePayments is FeelessScheme {\n      * allows only creator of payment to withdraw\n      * @param code The string to encode into hash of payment \n      */\n-    function cancel(string memory code) public {\n-        bytes32 hash = keccak256(abi.encodePacked(code));\n-        uint256 value = payments[hash].paymentAmount;\n+    function cancel(bytes32 hash) public {\n \n         require(payments[hash].paymentSender == msg.sender, \"Can only be called by creator\");\n+        \n+        uint256 value = payments[hash].paymentAmount;\n \n         _withdraw(hash, value);\n         emit PaymentCancel(msg.sender, hash, value);", "project_link": "https://github.com/GoodDollar/GoodContracts/commit/e56f24e2ed8ccd2f90fe071dd29fae37d0605c79", "solc_version": "0.4.18", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "eb8c0c6fcaf388a422de3c2cfc084dd255bea75e"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "e56f24e2ed8ccd2f90fe071dd29fae37d0605c79"}}