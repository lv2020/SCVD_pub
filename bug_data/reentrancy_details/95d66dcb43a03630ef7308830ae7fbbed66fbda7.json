{"filename": "packages/contracts/contracts/zkopru/controllers/UserInteractable.sol", "patch": "@@ -233,6 +233,8 @@ contract UserInteractable is Storage {\n         );\n         // Should not allow double-withdrawing\n         require(!Storage.chain.withdrawn[withdrawalHash], \"Already withdrawn\");\n+        // Mark as withdrawn\n+        Storage.chain.withdrawn[withdrawalHash] = true;\n         // Check whether new owner exists\n         address to = Storage.chain.newWithdrawalOwner[withdrawalHash] != address(0)\n             ? Storage.chain.newWithdrawalOwner[withdrawalHash]\n@@ -260,8 +262,6 @@ contract UserInteractable is Storage {\n             require(nft != 0, \"Circuit cannot accept NFT id 0. Please deposit other NFT.\");\n             IERC721(token).transferFrom(address(this), to, nft);\n         }\n-        // Mark as withdrawn\n-        Storage.chain.withdrawn[withdrawalHash] = true;\n     }\n \n     function _withdrawalHash(", "project_link": "https://github.com/wanseob/zkopru/commit/b626813e10ae69884b0ba554e641184652a1c0e5", "solc_version": "0.6.12", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "95d66dcb43a03630ef7308830ae7fbbed66fbda7"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "b626813e10ae69884b0ba554e641184652a1c0e5"}}