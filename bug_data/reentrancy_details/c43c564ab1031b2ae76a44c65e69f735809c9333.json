{"filename": "contracts/StakingManager.sol", "patch": "@@ -58,13 +58,13 @@ contract StakingManager is Ownable{\n         require(_amount > 0, \"Deposit amount can't be zero\");\n         Pool storage pool = pools[_poolId];\n         PoolStaker storage staker = poolStakers[_poolId][msg.sender];\n+        staker.amount = staker.amount + _amount;\n+        emit Deposit(msg.sender, _poolId, _amount);\n         pool.stakeToken.safeTransferFrom(\n             address(msg.sender),\n             address(this),\n             _amount\n         );\n-        staker.amount = staker.amount + _amount;\n-        emit Deposit(msg.sender, _poolId, _amount);\n     }\n \n     /**\n@@ -76,10 +76,10 @@ contract StakingManager is Ownable{\n         uint256 amount = staker.amount;\n         require(amount > 0, \"Withdraw amount can't be zero\");\n         staker.amount = 0;\n+        emit Withdraw(msg.sender, _poolId, amount);\n         pool.stakeToken.transfer(\n             address(msg.sender),\n             amount\n         );\n-        emit Withdraw(msg.sender, _poolId, amount);\n     }\n }", "project_link": "https://github.com/Markkop/markkop-defi/commit/396da13729785a12f3268c9253f3ec31d74abe0d", "solc_version": "0.4.0", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "c43c564ab1031b2ae76a44c65e69f735809c9333"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "396da13729785a12f3268c9253f3ec31d74abe0d"}}