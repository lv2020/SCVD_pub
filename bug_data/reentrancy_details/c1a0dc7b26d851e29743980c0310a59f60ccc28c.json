{"filename": "contracts/Sales.sol", "patch": "@@ -260,7 +260,7 @@ contract Sales is DSMath { // Auctions\n \t\trequire(now > sales[sale].salex);\n \t\trequire(hasSecs(sale));\n \t\trequire(sha256(abi.encodePacked(sechs[sale].secD)) == sechs[sale].sechD);\n-\n+        sales[sale].taken = true;\n         if (sales[sale].bid > (loans.dedu(sales[sale].loani))) {\n             tokes[sale].transfer(sales[sale].lend, loans.lentb(sales[sale].loani));\n             if (agent(sale) != address(0)) {\n@@ -272,7 +272,6 @@ contract Sales is DSMath { // Auctions\n         } else {\n             tokes[sale].transfer(sales[sale].lend, sales[sale].bid);\n         }\n-        sales[sale].taken = true;\n \t}\n \n \tfunction unpush(bytes32 sale) public { // Refund Bid", "project_link": "https://github.com/AtomicLoans/atomicloans-eth-contracts/commit/1f430fe96f40a8575006084a3a664861117cc199", "solc_version": "0.8.14", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "c1a0dc7b26d851e29743980c0310a59f60ccc28c"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "1f430fe96f40a8575006084a3a664861117cc199"}}