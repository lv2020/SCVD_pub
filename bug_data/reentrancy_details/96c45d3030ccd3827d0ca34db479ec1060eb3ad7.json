{"filename": "code/contracts/ONEWallet.sol", "patch": "@@ -202,13 +202,15 @@ contract ONEWallet is TokenTracker {\n             emit InsufficientFund(amount, address(this).balance, dest);\n             return false;\n         }\n+        spentToday += amount;\n         (bool success,) = dest.call{value : amount}(\"\");\n         // we do not want to revert the whole transaction if this operation fails, since EOTP is already revealed\n         if (!success) {\n+            spentToday -= amount;\n             emit UnknownTransferError(dest);\n             return false;\n         }\n-        spentToday += amount;\n+\n         emit PaymentSent(amount, dest);\n         return true;\n     }", "project_link": "https://github.com/polymorpher/one-wallet/commit/c0185b1de8a2b5ac6b37d9ca4f81888f34dd1e2d", "solc_version": "0.4.0", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "96c45d3030ccd3827d0ca34db479ec1060eb3ad7"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "c0185b1de8a2b5ac6b37d9ca4f81888f34dd1e2d"}}