{"filename": "contracts/pools/SinglePool.sol", "patch": "@@ -201,14 +201,18 @@ contract SinglePool is Ownable {\n     function emergencyWithdraw() public {\n         PoolInfo storage pool = poolInfo[0];\n         UserInfo storage user = userInfo[msg.sender];\n-        pool.lpToken.safeTransfer(address(msg.sender), user.amount);\n+\n+        uint256 amount = user.amount;\n+        \n         if(totalDeposit >= user.amount) {\n             totalDeposit = totalDeposit.sub(user.amount);\n         } else {\n             totalDeposit = 0;\n         }\n         user.amount = 0;\n         user.rewardDebt = 0;\n+\n+        pool.lpToken.safeTransfer(address(msg.sender), amount);\n         emit EmergencyWithdraw(msg.sender, user.amount);\n     }\n ", "project_link": "https://github.com/Dinosaur-eggs/core/commit/238d29d2b8ecc3b21f29ce6dfb435b77107f0f42", "solc_version": "0.8.8", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "6b046e634308d09dd3e3b625cb930d61364065ca"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "238d29d2b8ecc3b21f29ce6dfb435b77107f0f42"}}