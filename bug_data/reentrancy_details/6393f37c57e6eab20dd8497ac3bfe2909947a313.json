{"filename": "contracts/EasyTrack.sol", "patch": "@@ -148,12 +148,12 @@ contract EasyTrack is Pausable, AccessControl, MotionSettings, EVMScriptFactorie\n         newMotion.duration = motionDuration;\n         newMotion.objectionsThreshold = objectionsThreshold;\n         newMotion.evmScriptFactory = _evmScriptFactory;\n+        motionIndicesByMotionId[_newMotionId] = motions.length;\n+\n         bytes memory evmScript =\n             _createEVMScript(_evmScriptFactory, msg.sender, _evmScriptCallData);\n         newMotion.evmScriptHash = keccak256(evmScript);\n \n-        motionIndicesByMotionId[_newMotionId] = motions.length;\n-\n         emit MotionCreated(\n             _newMotionId,\n             msg.sender,\n@@ -174,14 +174,17 @@ contract EasyTrack is Pausable, AccessControl, MotionSettings, EVMScriptFactorie\n         Motion storage motion = _getMotion(_motionId);\n         require(motion.startDate + motion.duration <= block.timestamp, ERROR_MOTION_NOT_PASSED);\n \n-        bytes memory evmScript =\n-            _createEVMScript(motion.evmScriptFactory, motion.creator, _evmScriptCallData);\n-        require(motion.evmScriptHash == keccak256(evmScript), ERROR_UNEXPECTED_EVM_SCRIPT);\n+        address creator = motion.creator;\n+        bytes32 evmScriptHash = motion.evmScriptHash;\n+        address evmScriptFactory = motion.evmScriptFactory;\n \n         _deleteMotion(_motionId);\n-        evmScriptExecutor.executeEVMScript(evmScript);\n-\n         emit MotionEnacted(_motionId);\n+\n+        bytes memory evmScript = _createEVMScript(evmScriptFactory, creator, _evmScriptCallData);\n+        require(evmScriptHash == keccak256(evmScript), ERROR_UNEXPECTED_EVM_SCRIPT);\n+\n+        evmScriptExecutor.executeEVMScript(evmScript);\n     }\n \n     /// @notice Submits an objection from `governanceToken` holder.", "project_link": "https://github.com/lidofinance/easy-track/commit/1358fdcf1992cf797075f925c52f42663ebdbf2d", "solc_version": "0.8.0", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "6393f37c57e6eab20dd8497ac3bfe2909947a313"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "1358fdcf1992cf797075f925c52f42663ebdbf2d"}}