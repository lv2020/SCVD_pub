{"filename": "contracts/SimpleAuction.sol", "patch": "@@ -159,6 +159,11 @@ contract SimpleAuction is /* AccessControl, */ MetaTxContext, ERC1155Holder {\n         address buyer = bid.buyer;\n         uint256 price = bid.price;\n \n+        // Reset the storage. Make the auction not exist anymore.\n+        bid.buyer = address(0);\n+        bid.price = 0;\n+        bid.closeTimeSec = 0;\n+\n         if (buyer != address(0)) {\n             // In case there was a buyer,\n             // transfer the payment to the seller.\n@@ -175,11 +180,6 @@ contract SimpleAuction is /* AccessControl, */ MetaTxContext, ERC1155Holder {\n             davinci.safeTransferFrom(address(this), seller, nftId, 1, \"\");\n         }\n \n-        // Reset the storage. Make the auction not exist anymore.\n-        bid.buyer = address(0);\n-        bid.price = 0;\n-        bid.closeTimeSec = 0;\n-\n         emit SettleAuction(seller, nftId, price, buyer);\n     }\n }", "project_link": "https://github.com/Cerebellum-Network/Freeport-Smart-Contracts/commit/f1405e5eab1f0263b4d8a1f01bdf46f5713d6052", "solc_version": "0.8.0", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "e1af0130411681ab82e328cc0b677a00e7160919"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "f1405e5eab1f0263b4d8a1f01bdf46f5713d6052"}}