{"filename": "contracts/Loans.sol", "patch": "@@ -301,6 +301,7 @@ contract Loans is DSMath {\n         require(sha256(abi.encodePacked(sec)) == sechs[loan].sechB1 || sha256(abi.encodePacked(sec)) == sechs[loan].sechC1);\n         require(now                             <= acex(loan));\n         require(bools[loan].sale                == false);\n+        bools[loan].off = true;\n         if (bools[loan].taken == false) {\n             tokes[loan].transfer(loans[loan].lend, loans[loan].prin);\n         } else if (bools[loan].taken == true) {\n@@ -311,7 +312,6 @@ contract Loans is DSMath {\n             }\n             tokes[loan].transfer(loans[loan].agent, lfee(loan));\n         }\n-        bools[loan].off = true;\n     }\n \n     function sechi(bytes32 loan, bytes32 usr) private view returns (bytes32 sech) { // Get Secret Hash for Sale Index", "project_link": "https://github.com/AtomicLoans/atomicloans-eth-contracts/commit/d6c34da37e3a734ede1c93a00a59e8f236e75e31", "solc_version": "0.8.14", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "f7ce4404a2faad405439931b8ac32852402a1ea2"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "d6c34da37e3a734ede1c93a00a59e8f236e75e31"}}