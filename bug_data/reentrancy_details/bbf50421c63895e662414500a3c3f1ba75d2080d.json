{"filename": "contracts/teller-network/Escrow.sol", "patch": "@@ -122,6 +122,10 @@ contract Escrow is Pausable, MessageSigned, Fees, Arbitrable {\n         require(_from == seller, \"Only the seller can fund this escrow\");\n         require(trx.status == EscrowStatus.CREATED || trx.status == EscrowStatus.FUNDED, \"Invalid escrow status\");\n \n+        transactions[_escrowId].tokenAmount += _tokenAmount;\n+        transactions[_escrowId].expirationTime = _expirationTime;\n+        transactions[_escrowId].status = EscrowStatus.FUNDED;\n+\n         payFee(_from, _escrowId);\n \n         if(token == address(0)){\n@@ -133,10 +137,6 @@ contract Escrow is Pausable, MessageSigned, Fees, Arbitrable {\n             require(erc20token.transferFrom(_from, address(this), _tokenAmount), \"Unsuccessful token transfer\");\n         }\n \n-        transactions[_escrowId].tokenAmount += _tokenAmount;\n-        transactions[_escrowId].expirationTime = _expirationTime;\n-        transactions[_escrowId].status = EscrowStatus.FUNDED;\n-\n         emit Funded(_escrowId, _expirationTime, _tokenAmount, block.timestamp);\n     }\n ", "project_link": "https://github.com/status-im/status-teller-network/commit/bbf50421c63895e662414500a3c3f1ba75d2080d", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "590c736e76b9a3f4b7a3e0f3e49c59314aaf8377"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "bbf50421c63895e662414500a3c3f1ba75d2080d"}}