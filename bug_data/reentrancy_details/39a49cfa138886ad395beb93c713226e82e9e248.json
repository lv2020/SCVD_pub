{"filename": "contracts/modules/RecoveryManager.sol", "patch": "@@ -128,10 +128,13 @@ contract RecoveryManager is BaseModule, RelayerModuleV2 {\n     function finalizeRecovery(BaseWallet _wallet) external onlyWhenRecovery(_wallet) {\n         RecoveryConfig storage config = recoveryConfigs[address(_wallet)];\n         require(uint64(now) > config.executeAfter, \"RM: the recovery period is not over yet\");\n-        _wallet.setOwner(config.recovery);\n-        emit RecoveryFinalized(address(_wallet), config.recovery);\n-        guardianStorage.setLock(_wallet, 0);\n+        address recoveryOwner = config.recovery;\n         delete recoveryConfigs[address(_wallet)];\n+\n+        _wallet.setOwner(recoveryOwner);\n+        guardianStorage.setLock(_wallet, 0);\n+\n+        emit RecoveryFinalized(address(_wallet), config.recovery);\n     }\n \n     /**\n@@ -141,9 +144,10 @@ contract RecoveryManager is BaseModule, RelayerModuleV2 {\n      */\n     function cancelRecovery(BaseWallet _wallet) external onlyExecute onlyWhenRecovery(_wallet) {\n         RecoveryConfig storage config = recoveryConfigs[address(_wallet)];\n-        emit RecoveryCanceled(address(_wallet), config.recovery);\n-        guardianStorage.setLock(_wallet, 0);\n         delete recoveryConfigs[address(_wallet)];\n+        guardianStorage.setLock(_wallet, 0);\n+\n+        emit RecoveryCanceled(address(_wallet), config.recovery);\n     }\n \n     /**", "project_link": "https://github.com/argentlabs/argent-contracts/commit/39a49cfa138886ad395beb93c713226e82e9e248", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "bb56c3f4ef8067924a56531fdb311f2094a34dce"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "39a49cfa138886ad395beb93c713226e82e9e248"}}