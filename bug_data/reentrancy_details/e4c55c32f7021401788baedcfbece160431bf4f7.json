{"filename": "packages/contracts/contracts/Purchase.sol", "patch": "@@ -93,10 +93,12 @@ contract Purchase {\n   isSeller\n   atStage(Stages.SELLER_PENDING)\n   {\n+    stage = Stages.COMPLETE;\n+\n     // Send contract funds to seller (ie owner of Listing)\n+    // Transfering money always needs to be the last thing we do, do avoid\n+    // rentrancy bugs. (Though here the seller would just be getting their own money)\n     listingContract.owner().transfer(this.balance);\n-\n-      stage = Stages.COMPLETE;\n   }\n \n ", "project_link": "https://github.com/tyleryasaka/platform/commit/b022ef5f04be2adf705334ec2708bde529f3eec0", "solc_version": "0.8.0", "packages": "", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "e4c55c32f7021401788baedcfbece160431bf4f7"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "b022ef5f04be2adf705334ec2708bde529f3eec0"}}