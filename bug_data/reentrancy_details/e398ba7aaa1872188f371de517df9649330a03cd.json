{"filename": "packages/contracts/contracts/L1/abstracts/WithdrawalsRelay.sol", "patch": "@@ -137,6 +137,7 @@ abstract contract WithdrawalsRelay {\n         if (finalizedWithdrawals[withdrawalHash] == true) {\n             revert WithdrawalAlreadyFinalized();\n         }\n+        finalizedWithdrawals[withdrawalHash] = true;\n \n         l2Sender = _sender;\n         // Make the call.\n@@ -146,7 +147,6 @@ abstract contract WithdrawalsRelay {\n \n         // All withdrawals are immediately finalized. If the ability to replay a transaction is\n         // required, that support can be provided in external contracts.\n-        finalizedWithdrawals[withdrawalHash] = true;\n         emit WithdrawalFinalized(withdrawalHash);\n     }\n }", "project_link": "https://github.com/maurelian/optimistic-specs/commit/e398ba7aaa1872188f371de517df9649330a03cd", "bug_version": {"raw_code": "", "flattened_code": "", "commit_id": "30684290ee038826d64035bc96eae26ce885fb05"}, "fixed_version": {"raw_code": "", "flattened_code": "", "commit_id": "e398ba7aaa1872188f371de517df9649330a03cd"}}